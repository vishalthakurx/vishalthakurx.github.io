<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Panel - Vishal Thakur</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(120deg, #e0eafc 0%, #cfdef3 100%);
            color: #222;
            margin: 0;
            min-height: 100vh;
        }
        .topbar {
            background: #2c3e50;
            color: #fff;
            padding: 18px 0 16px 0;
            text-align: center;
            font-size: 1.5rem;
            font-weight: 700;
            letter-spacing: 1px;
            box-shadow: 0 2px 8px rgba(44,62,80,0.08);
            display: flex;
            align-items: center;
            justify-content: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        .topbar .logo {
            font-size: 1.7rem;
            margin-right: 12px;
            color: #2ecc71;
        }
        .logout-btn {
            margin-left: auto;
            margin-right: 24px;
            background: #e74c3c;
            color: #fff;
            border: none;
            padding: 8px 18px;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s;
        }
        .logout-btn:hover {
            background: #c0392b;
        }
        .container {
            max-width: 540px;
            margin: 40px auto;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(44,62,80,0.10);
            padding: 36px 32px 32px 32px;
        }
        h2 {
            color: #2c3e50;
            margin-top: 0;
            font-size: 2rem;
            letter-spacing: 1px;
            text-align: center;
        }
        form {
            margin-bottom: 0;
        }
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #34495e;
        }
        input[type="text"], input[type="password"], input[type="email"], select {
            width: 100%;
            padding: 11px 12px;
            margin-bottom: 16px;
            border: 1px solid #dbeafe;
            border-radius: 6px;
            font-size: 1rem;
            background: #f8fafc;
            transition: border 0.2s;
        }
        input:focus, select:focus {
            border: 1.5px solid #3498db;
            outline: none;
            background: #eaf6fb;
        }
        button, .admin-tab {
            background: #3498db;
            color: #fff;
            border: none;
            padding: 10px 22px;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            margin-right: 8px;
            margin-bottom: 8px;
            transition: background 0.2s, box-shadow 0.2s;
            box-shadow: 0 2px 8px rgba(52,152,219,0.07);
        }
        button:last-child, .admin-tab:last-child {
            margin-right: 0;
        }
        button:hover, .admin-tab:hover {
            background: #217dbb;
        }
        .admin-tab.active {
            background: #2ecc71;
            color: #fff;
        }
        .admin-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 24px;
            justify-content: center;
        }
        .admin-section {
            display: none;
            animation: fadeIn 0.4s;
        }
        .admin-section.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(16px);}
            to { opacity: 1; transform: none;}
        }
        .fadeOut { animation: fadeOut 0.7s forwards; }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; visibility: hidden; } }
        .ecom-list, .user-list {
            margin-bottom: 16px;
        }
        .ecom-list div, .user-list div {
            background: #f8fafc;
            border-radius: 5px;
            padding: 8px 12px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .ecom-list button, .user-list button {
            background: #e74c3c;
            padding: 5px 14px;
            border-radius: 4px;
            font-size: 0.95em;
            margin: 0;
        }
        .ecom-list button:hover, .user-list button:hover {
            background: #c0392b;
        }
        .admin-section h3 {
            margin-top: 0;
            color: #217dbb;
        }
        .info-note {
            font-size: 0.97em;
            color: #888;
            margin-top: 8px;
        }
        @media (max-width: 700px) {
            .container { padding: 18px 6vw 18px 6vw; }
            .topbar { font-size: 1.1rem; }
        }
    </style>
</head>
<body>
    <div class="topbar">
        <span class="logo">üõ†Ô∏è</span> Vishal Thakur Admin Panel
        <button class="logout-btn hidden" id="logout-btn">Logout</button>
    </div>
    <div class="container">
        <h2>Admin Panel</h2>
        <form id="admin-login-form">
            <label for="admin-username">Username:</label>
            <input type="text" id="admin-username" name="admin-username" required autocomplete="username">
            <label for="admin-password">Password:</label>
            <input type="password" id="admin-password" name="admin-password" required autocomplete="current-password">
            <button type="submit">Login</button>
        </form>
        <div id="admin-dashboard" class="hidden">
            <div class="admin-tabs">
                <button class="admin-tab active" data-tab="content">Content Editor</button>
                <button class="admin-tab" data-tab="ecom">E-Commerce</button>
                <button class="admin-tab" data-tab="users">User Management</button>
                <button class="admin-tab" data-tab="settings">Settings</button>
            </div>
            <div id="admin-content" class="admin-section active">
                <p>Edit the main website by clicking <b>Enable Edit</b>, then <b>Save All</b> to persist changes.</p>
                <button id="enable-edit-btn">Enable Edit</button>
                <button id="save-content-btn">Save All</button>
                <button id="disable-edit-btn">Disable Edit</button>
                <div class="info-note">(Edits apply to the main site. Reload the main site to see changes.)</div>
            </div>
            <div id="admin-ecom" class="admin-section">
                <h3>Manage Services</h3>
                <div id="ecom-list" class="ecom-list"></div>
                <form id="add-service-form">
                    <input type="text" id="service-title" placeholder="Service Title" required>
                    <input type="text" id="service-price" placeholder="Price" required>
                    <input type="text" id="service-upi" placeholder="UPI Link" required>
                    <button type="submit">Add Service</button>
                </form>
            </div>
            <div id="admin-users" class="admin-section">
                <h3>User Management</h3>
                <div id="user-list" class="user-list"></div>
                <form id="add-user-form">
                    <input type="text" id="new-username" placeholder="Username" required>
                    <input type="password" id="new-password" placeholder="Password" required>
                    <button type="submit">Add User</button>
                </form>
            </div>
            <div id="admin-settings" class="admin-section">
                <h3>Settings</h3>
                <form id="settings-form">
                    <label for="site-title">Site Title:</label>
                    <input type="text" id="site-title" value="Vishal Thakur">
                    <label for="theme-select">Theme:</label>
                    <select id="theme-select">
                        <option value="default">Default</option>
                        <option value="dark">Dark</option>
                    </select>
                    <button type="submit">Save Settings</button>
                </form>
            </div>
        </div>
    </div>
    <script>
    // --- Admin Panel Standalone Functionality ---

    // Content Editor for main site
    function setEditable(enabled) {
        let mainContent = document.getElementById('editable-main-content');
        if (!mainContent) {
            mainContent = document.createElement('div');
            mainContent.id = 'editable-main-content';
            mainContent.style.marginTop = '24px';
            mainContent.style.background = '#f8fafc';
            mainContent.style.border = '1.5px solid #dbeafe';
            mainContent.style.borderRadius = '8px';
            mainContent.style.padding = '18px 16px';
            mainContent.style.minHeight = '200px';
            mainContent.style.maxHeight = '60vh';
            mainContent.style.overflowY = 'auto';
            mainContent.style.fontSize = '1.05em';
            mainContent.innerHTML = localStorage.getItem('content_main') || '';
            document.querySelector('.container').appendChild(mainContent);
        }
        if (enabled) {
            mainContent.setAttribute('contenteditable', 'true');
            mainContent.focus();
        } else {
            mainContent.removeAttribute('contenteditable');
        }
    }
    function saveContent() {
        let mainContent = document.getElementById('editable-main-content');
        if (mainContent) {
            localStorage.setItem('content_main', mainContent.innerHTML);
            alert('Content saved! Reload the main site to see changes.');
            mainContent.remove();
        }
    }
    function disableEdit() {
        let mainContent = document.getElementById('editable-main-content');
        if (mainContent) mainContent.removeAttribute('contenteditable');
    }

    // E-Commerce Management
    let services = JSON.parse(localStorage.getItem('services') || '[]');
    function renderServices() {
        const ecomList = document.getElementById('ecom-list');
        if (ecomList) {
            ecomList.innerHTML = services.map((s, i) =>
                `<div>
                    <span><b>${s.title}</b> - ‚Çπ${s.price}</span>
                    <button onclick="removeService(${i})">Remove</button>
                </div>`
            ).join('');
        }
    }
    window.removeService = function(idx) {
        services.splice(idx, 1);
        localStorage.setItem('services', JSON.stringify(services));
        renderServices();
    }
    const addServiceForm = document.getElementById('add-service-form');
    if (addServiceForm) {
        addServiceForm.onsubmit = function(e) {
            e.preventDefault();
            services.push({
                title: this['service-title'].value,
                price: this['service-price'].value,
                upi: this['service-upi'].value
            });
            localStorage.setItem('services', JSON.stringify(services));
            renderServices();
            this.reset();
        }
    }

    // User Management
    let users = JSON.parse(localStorage.getItem('users') || '[{"username":"cobra","password":"1234"}]');
    function renderUsers() {
        const userList = document.getElementById('user-list');
        if (userList) {
            userList.innerHTML = users.map((u, i) =>
                `<div><span>${u.username}</span> <button onclick="removeUser(${i})">Remove</button></div>`
            ).join('');
        }
    }
    window.removeUser = function(idx) {
        users.splice(idx, 1);
        localStorage.setItem('users', JSON.stringify(users));
        renderUsers();
    }
    const addUserForm = document.getElementById('add-user-form');
    if (addUserForm) {
        addUserForm.onsubmit = function(e) {
            e.preventDefault();
            users.push({username: this['new-username'].value, password: this['new-password'].value});
            localStorage.setItem('users', JSON.stringify(users));
            renderUsers();
            this.reset();
        }
    }

    // Settings
    const settingsForm = document.getElementById('settings-form');
    if (settingsForm) {
        settingsForm.onsubmit = function(e) {
            e.preventDefault();
            document.title = this['site-title'].value;
            localStorage.setItem('siteTitle', this['site-title'].value);
            if (this['theme-select'].value === 'dark') {
                document.body.style.background = '#222';
                document.body.style.color = '#eee';
            } else {
                document.body.style.background = '';
                document.body.style.color = '';
            }
        }
    }

    // Admin Login
    const adminLoginForm = document.getElementById('admin-login-form');
    const adminDashboard = document.getElementById('admin-dashboard');
    const logoutBtn = document.getElementById('logout-btn');
    function doAdminLogin() {
        if (adminLoginForm && adminDashboard) {
            adminLoginForm.classList.add('fadeOut');
            setTimeout(() => {
                adminLoginForm.classList.add('hidden');
                adminDashboard.classList.remove('hidden');
                logoutBtn.classList.remove('hidden');
                renderUsers();
                renderServices();
            }, 700);
        }
    }
    if (adminLoginForm && adminDashboard) {
        adminLoginForm.onsubmit = function(e) {
            e.preventDefault();
            const u = this['admin-username'].value;
            const p = this['admin-password'].value;
            if (users.find(user => user.username === u && user.password === p)) {
                localStorage.setItem('adminLoggedIn', 'true');
                doAdminLogin();
            } else {
                alert('Invalid credentials');
            }
        }
    }
    // Remember login
    function checkAdminLogin() {
        if (localStorage.getItem('adminLoggedIn') === 'true') {
            doAdminLogin();
        }
    }
    // Logout
    if (logoutBtn) {
        logoutBtn.onclick = function() {
            localStorage.removeItem('adminLoggedIn');
            location.reload();
        }
    }

    // Tab Switching
    const adminTabs = document.querySelectorAll('.admin-tab');
    const adminSections = document.querySelectorAll('.admin-section');
    adminTabs.forEach(tab => {
        tab.onclick = function() {
            adminTabs.forEach(t => t.classList.remove('active'));
            adminSections.forEach(s => s.classList.remove('active'));
            tab.classList.add('active');
            document.getElementById('admin-' + tab.dataset.tab).classList.add('active');
        }
    });

    // Content Editor Buttons
    const enableEditBtn = document.getElementById('enable-edit-btn');
    const saveContentBtn = document.getElementById('save-content-btn');
    const disableEditBtn = document.getElementById('disable-edit-btn');
    if (enableEditBtn) enableEditBtn.onclick = () => setEditable(true);
    if (saveContentBtn) saveContentBtn.onclick = saveContent;
    if (disableEditBtn) disableEditBtn.onclick = disableEdit;

    // Load saved content/settings on page load
    window.addEventListener('DOMContentLoaded', () => {
        const savedTitle = localStorage.getItem('siteTitle');
        if (savedTitle) document.title = savedTitle;
        renderUsers();
        renderServices();
        checkAdminLogin();
    });
    </script>
</body>
</html>
